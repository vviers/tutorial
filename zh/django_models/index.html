
<!DOCTYPE HTML>
<html lang="zh" >
    <head>
        <meta charset="UTF-8">
        <title>Djangoæ¨¡å‹ Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.6.15">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sidebar-ad/sidebar-ad.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-label/block.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sectionx-ex/sectionx.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../django_admin/" />
    
    
    <link rel="prev" href="../django_start_project/" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
  
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="è¼¸å…¥ä¸¦æœå°‹" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://gitter.im/DjangoGirls/tutorial" target="_blank" class="custom-link">Need help? Talk to us!</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    ä»‹ç»
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installation/">
            
                <a href="../installation/">
            
                    
                    å®‰è£…
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../how_the_internet_works/">
            
                <a href="../how_the_internet_works/">
            
                    
                    äº’è”ç½‘æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../intro_to_command_line/">
            
                <a href="../intro_to_command_line/">
            
                    
                    å‘½ä»¤è¡Œä»‹ç»
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../python_installation/">
            
                <a href="../python_installation/">
            
                    
                    Pythonçš„å®‰è£…
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../code_editor/">
            
                <a href="../code_editor/">
            
                    
                    ä»£ç ç¼–è¾‘å™¨
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../python_introduction/">
            
                <a href="../python_introduction/">
            
                    
                    Python ç®€ä»‹
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../django/">
            
                <a href="../django/">
            
                    
                    Django æ˜¯ä»€ä¹ˆï¼Ÿ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../django_installation/">
            
                <a href="../django_installation/">
            
                    
                    Djangoå®‰è£…
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../django_start_project/">
            
                <a href="../django_start_project/">
            
                    
                    ä½ çš„ç¬¬ä¸€ä¸ªDjango é¡¹ç›® ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.11" data-path="./">
            
                <a href="./">
            
                    
                    Djangoæ¨¡å‹
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../django_admin/">
            
                <a href="../django_admin/">
            
                    
                    Djangoç®¡ç†
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../deploy/">
            
                <a href="../deploy/">
            
                    
                    éƒ¨ç½²ï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../django_urls/">
            
                <a href="../django_urls/">
            
                    
                    Django urls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../django_views/">
            
                <a href="../django_views/">
            
                    
                    Djangoè§†å›¾ - æŠ“ç´§æ—¶é—´å»åˆ›å»ºï¼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../html/">
            
                <a href="../html/">
            
                    
                    HTMLç®€ä»‹
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../django_orm/">
            
                <a href="../django_orm/">
            
                    
                    Django ORM (æŸ¥è¯¢é›†)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../dynamic_data_in_templates/">
            
                <a href="../dynamic_data_in_templates/">
            
                    
                    æ¨¡æ¿ä¸­çš„åŠ¨æ€æ•°æ®
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="../django_templates/">
            
                <a href="../django_templates/">
            
                    
                    Djangoæ¨¡æ¿
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="../css/">
            
                <a href="../css/">
            
                    
                    CSS - è®©å…¶æ›´æ¼‚äº®
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="../template_extending/">
            
                <a href="../template_extending/">
            
                    
                    æ¨¡æ¿æ‰©å±•
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="../extend_your_application/">
            
                <a href="../extend_your_application/">
            
                    
                    æ‰©å±•æ‚¨çš„åº”ç”¨
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="../django_forms/">
            
                <a href="../django_forms/">
            
                    
                    Djangoè¡¨å•
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="../whats_next/">
            
                <a href="../whats_next/">
            
                    
                    æ¥ä¸‹æ¥å‘¢ï¼Ÿ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            æœ¬æ›¸ä½¿ç”¨ HonKit é‡‹å‡º
        </a>
    </li>
</ul>


                </nav>
            
        
  <div class="sidebar-addition">
      
        <a href="https://www.patreon.com/djangogirls" target="_blank">
      
        <img src="https://djangogirls.org/static/img/global/donate/lagos.jpg" />
      
        </a>
      
      
        <p>ğŸ’– Support our work and donate to our project! âœ¨</p>
      
      
      <a href="https://www.patreon.com/djangogirls" class="btn" target="_blank">
        Donate now!
      </a>
      
  </div>

    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Djangoæ¨¡å‹</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="djangoæ¨¡å‹">Djangoæ¨¡å‹</h1>
<p>æˆ‘ä»¬ç°åœ¨å°†è¦åˆ›å»ºçš„æ˜¯ä¸€ä¸ªèƒ½å­˜å‚¨æˆ‘ä»¬åšå®¢æ‰€æœ‰æ–‡ç« çš„ä¸œè¥¿ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å°†è¦è®²è§£ä¸€ä¸‹ä¸€ä¸ªè¢«ç§°ä¸º<code>objectsï¼ˆå¯¹è±¡ï¼‰</code>çš„ä¸œè¥¿.</p>
<h2 id="å¯¹è±¡">å¯¹è±¡</h2>
<p>åœ¨ç¼–ç¨‹ä¸­æœ‰ä¸€ä¸ªæ¦‚å¿µå«åš <code>é¢å‘å¯¹è±¡ç¼–ç¨‹</code> ã€‚ å®ƒçš„æ€æƒ³æ˜¯ï¼Œä¸å…¶ç”¨æ— èŠçš„ä¸€è¿ä¸²çš„ç¨‹åºæŒ‡ä»¤æ–¹å¼å†™ç¨‹åºï¼Œæˆ‘ä»¬ä¸å¦‚ä¸ºäº‹ç‰©å»ºç«‹æ¨¡å‹ï¼Œç„¶åå®šä¹‰ä»–ä»¬æ˜¯æ€æ ·äº’ç›¸äº¤äº’çš„ã€‚</p>
<p>é‚£ä»€ä¹ˆæ˜¯å¯¹è±¡å‘¢ï¼Ÿå®ƒæ˜¯ä¸€ä¸ªå±æ€§å’Œæ“ä½œçš„é›†åˆã€‚å®ƒå¬èµ·æ¥å¾ˆå¥‡æ€ªï¼Œä½†æˆ‘ä»¬ä¼šç»™ä½ ä¸€ä¸ªä¾‹å­ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³å¡‘é€ ä¸€åªçŒ«çš„æ¨¡å‹ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªåä¸º<code>Cat</code>çš„å¯¹è±¡ï¼Œå®ƒå«æœ‰ä¸€äº›å±æ€§ä¾‹å¦‚ï¼š<code>color</code>, <code>age</code>, <code>mood</code>(åˆæ¯”å¦‚ï¼šgood, bad, sleepy ;))ï¼Œè¿˜æœ‰<code>ownerï¼ˆä¸»äººï¼‰</code> (é‚£æ˜¯ä¸€ä¸ª<code>Person</code>å¯¹è±¡æˆ–è€…å‡è‹¥æ˜¯æµæµªçŒ«ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ä¸ºç©º)ã€‚</p>
<p>ç„¶åè¿™ä¸ª<code>Cat</code>ä¼šæœ‰ä¸€äº›è¡Œä¸º: <code>purr</code>, <code>scratch</code>, æˆ–è€…<code>feed</code> (åœ¨è¿™å…¶ä¸­æˆ‘ä»¬ä¼šç»™è¿™åªçŒ«ä¸€äº› <code>CatFood</code>ï¼Œè¿™ä¸ª<code>CatFood</code>å¯ä»¥æ˜¯å•ç‹¬çš„ä¸€ä¸ªåŒ…å«æ¯”å¦‚<0>taste</0>å±æ€§çš„å¯¹è±¡).</p>
<pre><code>Cat
--------
color
age
mood
owner
purr()
scratch()
feed(cat_food)


CatFood
--------
taste
</code></pre><p>æ‰€ä»¥åŸºæœ¬æ€æƒ³å°±æ˜¯ç”¨åŒ…å«å±æ€§çš„ä»£ç æ¥æè¿°çœŸå®çš„ä¸œè¥¿ï¼ˆç§°ä¸º <code>å¯¹è±¡å±æ€§</code>ï¼‰å’Œæ“ä½œ ï¼ˆç§°ä¸º <code>æ–¹æ³•</code>).</p>
<p>æˆ‘ä»¬å°†å¦‚ä½•ä¸ºåšå®¢å¸–å­å»ºç«‹æ¨¡å‹å‘¢ï¼Ÿæˆ‘ä»¬æƒ³è¦å»ºç«‹ä¸€ä¸ªåšå®¢ï¼Œå¯¹å—ï¼Ÿ</p>
<p>æˆ‘ä»¬éœ€è¦å›ç­”ä¸€ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯ä¸€ç¯‡åšå®¢æ–‡ç« ï¼Ÿå®ƒåº”è¯¥å«æœ‰ä»€ä¹ˆæ ·çš„å±æ€§ï¼Ÿ</p>
<p>å—¯ï¼Œè‚¯å®šæˆ‘ä»¬çš„åšå®¢æ–‡ç« éœ€è¦ä¸€äº›æ–‡æœ¬ï¼ŒåŒ…æ‹¬å†…å®¹ä¸æ ‡é¢˜ï¼Œå¯¹å—ï¼Ÿ æˆ‘ä»¬ä¹Ÿéœ€è¦çŸ¥é“æ˜¯è°å†™çš„ â€” â€” æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä½ä½œè€…ã€‚ æœ€åï¼Œæˆ‘ä»¬æƒ³è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥æ–‡ç« åˆ›å»ºå¹¶å‘å¸ƒã€‚</p>
<pre><code>Post
--------
title
text
author
created_date
published_date
</code></pre><p>ä¸€ç¯‡åšå®¢æ–‡ç« éœ€è¦åšä»€ä¹ˆæ ·çš„äº‹æƒ…ï¼Ÿåº”è¯¥æœ‰ä¸€äº›æ­£ç¡®çš„ <code>æ–¹æ³•</code> æ¥å‘å¸ƒæ–‡ç« ï¼Œå¯¹å—ï¼Ÿ</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ª<code>publish</code>çš„æ–¹æ³•</p>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»çŸ¥é“ä»€ä¹ˆæ˜¯æˆ‘ä»¬æƒ³è¦å®ç°çš„ï¼Œè®©æˆ‘ä»¬å¼€å§‹åœ¨Djangoé‡Œé¢ä¸ºå®ƒå»ºæ¨¡ï¼</p>
<h2 id="djangoæ¨¡å‹">Djangoæ¨¡å‹</h2>
<p>çŸ¥é“ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„åšå®¢æ–‡ç« åˆ›å»ºä¸€ä¸ª Django æ¨¡å‹ã€‚</p>
<p>Django é‡Œçš„æ¨¡å‹æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ â€” â€” å®ƒä¿å­˜åœ¨ <code>æ•°æ®åº“</code> ä¸­ã€‚ æ•°æ®åº“æ˜¯æ•°æ®çš„é›†åˆã€‚ è¿™æ˜¯æ‚¨å­˜å‚¨æœ‰å…³ç”¨æˆ·ã€ æ‚¨çš„åšå®¢æ–‡ç« ç­‰ä¿¡æ¯çš„åœ°æ–¹ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨SQLite æ•°æ®åº“æ¥å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ã€‚ è¿™æ˜¯é»˜è®¤çš„ Django æ•°æ®åº“é€‚é…å™¨ â€” â€” å¯¹äºæˆ‘ä»¬ç°åœ¨çš„éœ€æ±‚è€Œè¨€å®ƒæ˜¯è¶³å¤Ÿçš„ã€‚</p>
<p>æ‚¨å¯ä»¥å°†æ•°æ®åº“ä¸­çš„æ¨¡å‹çœ‹ä½œæ˜¯ç”µå­è¡¨æ ¼ä¸­çš„åˆ— ï¼ˆå­—æ®µï¼‰ å’Œè¡Œ ï¼ˆæ•°æ®ï¼‰ã€‚</p>
<h3 id="åˆ›å»ºåº”ç”¨ç¨‹åº">åˆ›å»ºåº”ç”¨ç¨‹åº</h3>
<p>ä¸ºäº†è®©ä¸€åˆ‡ä¿æŒæ•´æ´ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„é¡¹ç›®å†…éƒ¨åˆ›å»ºå•ç‹¬çš„åº”ç”¨ç¨‹åºã€‚ å¦‚æœä¸€å¼€å§‹å°±è®©æ¯ä¸€ä»¶ä¸œè¥¿äº•ç„¶æœ‰åºï¼Œé‚£å°±å¤ªå¥½äº†ã€‚ ä¸ºäº†åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ (ä»<code>manage.py</code> æ–‡ä»¶æ‰€åœ¨çš„<code>djangogirls</code> ç›®å½•)ï¼š</p>
<pre><code>(myvenv) ~/djangogirls$ python manage.py startapp blog
</code></pre><p>ä½ ä¼šæ³¨æ„åˆ°ä¸€ä¸ªæ–°çš„ <code>blog</code> ç›®å½•è¢«åˆ›å»ºï¼Œå®ƒç°åœ¨åŒ…å«ä¸€äº›æ–‡ä»¶ã€‚æˆ‘ä»¬çš„ç›®å½•å’Œæˆ‘ä»¬çš„é¡¹ç›®ä¸­çš„æ–‡ä»¶ç°åœ¨åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<pre><code>djangogirls
â”œâ”€â”€ mysite
|       __init__.py
|       settings.py
|       urls.py
|       wsgi.py
â”œâ”€â”€ manage.py
â””â”€â”€ blog
    â”œâ”€â”€ migrations
    |       __init__.py
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ admin.py
    â”œâ”€â”€ models.py
    â”œâ”€â”€ tests.py
    â””â”€â”€ views.py
</code></pre><p>åˆ›å»ºåº”ç”¨ç¨‹åºåï¼Œæˆ‘ä»¬è¿˜éœ€è¦å‘Šè¯‰ Django å®ƒåº”è¯¥ä½¿ç”¨å®ƒã€‚ æˆ‘ä»¬æ˜¯åœ¨ <code>mysite/settings.py</code>æ–‡ä»¶ä¸­è¿™æ ·åšçš„ã€‚ æˆ‘ä»¬éœ€è¦æ‰¾åˆ° <code>INSTALLED_APPS</code> å¹¶åœ¨å®ƒä¸‹é¢æ·»åŠ ä¸€è¡Œ<code>&apos;blog&apos;</code> ã€‚ æ‰€ä»¥æœ€ç»ˆçš„ä»£ç åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>INSTALLED_APPS = (
    &apos;django.contrib.admin&apos;,
    &apos;django.contrib.auth&apos;,
    &apos;django.contrib.contenttypes&apos;,
    &apos;django.contrib.sessions&apos;,
    &apos;django.contrib.messages&apos;,
    &apos;django.contrib.staticfiles&apos;,
    &apos;blog&apos;,
)
</code></pre><h3 id="åˆ›å»ºä¸€ä¸ªåšå®¢æ–‡ç« æ¨¡å‹">åˆ›å»ºä¸€ä¸ªåšå®¢æ–‡ç« æ¨¡å‹</h3>
<p>æˆ‘ä»¬åœ¨ <code>blog/models.py</code> æ–‡ä»¶ä¸­ï¼Œå®šä¹‰æ‰€æœ‰çš„ <code>Models</code> å¯¹è±¡â€” â€” æˆ‘ä»¬å°†åœ¨å…¶ä¸­éƒ½å®šä¹‰æˆ‘ä»¬çš„åšå®¢æ–‡ç« ã€‚</p>
<p>è®©æˆ‘ä»¬æ‰“å¼€ <code>blog/models.py</code>ï¼Œä»ä¸­åˆ é™¤ä¸€åˆ‡å¹¶ç¼–å†™è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code>from django.db import models
from django.utils import timezone


class Post(models.Model):
    author = models.ForeignKey(&apos;auth.User&apos;, on_delete=models.CASCADE)
    title = models.CharField(max_length=200)
    text = models.TextField()
    created_date = models.DateTimeField(
            default=timezone.now)
    published_date = models.DateTimeField(
            blank=True, null=True)

    def publish(self):
        self.published_date = timezone.now()
        self.save()

    def __str__(self):
        return self.title
</code></pre><blockquote>
<p>å½“ä½ åœ¨<code>str</code>çš„ä¸¤ç«¯ä½¿ç”¨ä¸¤ä¸ªä¸‹åˆ’çº¿å­—ç¬¦ï¼ˆ<code>_</code>ï¼‰çš„æ—¶å€™åŠ¡å¿…ä¸‰æ€è€Œåè¡Œã€‚ è¿™æ˜¯Pythonç¼–ç¨‹é‡Œé¢çš„ä¸€ç§å¸¸è§çš„çº¦å®šå†™æ³•ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¹Ÿå«è¿™ä¸ªåš&quot;dunder&quot;(&quot;double-underscore&quot;çš„ç¼©å†™)ã€‚</p>
</blockquote>
<p>è¿™çœ‹èµ·æ¥å¤ªå“äººäº†ï¼Œå¯¹å§ï¼Ÿä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬ä¼šè§£é‡Šè¿™å‡ è¡Œæ˜¯ä»€ä¹ˆæ„æ€ï¼</p>
<p>æ‰€æœ‰ä»¥ <code>from</code> æˆ– <code>import</code> å¼€å§‹çš„æ‰€æœ‰è¡Œï¼Œéƒ½æ˜¯éœ€è¦ä»å…¶ä»–æ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›å†…å®¹ã€‚ æ‰€ä»¥ä¸å…¶å¤åˆ¶å’Œç²˜è´´åŒæ ·çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>from...... import......</code>æ¥å¯¼å…¥è¿™äº›æ–‡ä»¶.</p>
<p><code>class Post(models.Model):</code> - è¿™è¡Œæ˜¯ç”¨æ¥å®šä¹‰æˆ‘ä»¬çš„æ¨¡å‹ (è¿™æ˜¯ä¸€ä¸ª <code>å¯¹è±¡</code>).</p>
<ul>
<li><code>class</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼Œè¡¨æ˜æˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li><code>Post</code>æ˜¯æˆ‘ä»¬æ¨¡å‹çš„ä¸€ä¸ªåå­—ã€‚æˆ‘ä»¬å¯ä»¥ç»™å®ƒå–å¦å¤–ä¸€ä¸ªä¸åŒçš„åå­—(ä½†æ˜¯æˆ‘ä»¬å¿…é¡»é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦æˆ–è€…ç©ºæ ¼ç¬¦)ã€‚æ€»æ˜¯ä»¥é¦–å­—æ¯å¤§å†™æ¥ä½œä¸ºç±»åã€‚</li>
<li><code>models.Model</code> è¡¨æ˜Postæ˜¯ä¸€ä¸ªDjangoæ¨¡å‹ï¼Œæ‰€ä»¥DjangoçŸ¥é“å®ƒåº”è¯¥è¢«ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬å®šä¹‰äº†æˆ‘ä»¬æ›¾ç»æåŠåˆ°çš„é‚£äº›å±æ€§ï¼š<code>title</code>, <code>text</code>, <code>created_date</code>, <code>published_date</code>å’Œ<code>author</code>ã€‚ ä¸ºäº†åšåˆ°é‚£æ ·æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬æ¯ä¸ªå­—æ®µå®šä¹‰ä¸€ä¸ªç±»å‹(å®ƒæ˜¯æ–‡æœ¬å—ï¼Ÿ æ˜¯æ•°å­—ï¼Ÿ æ˜¯æ—¥æœŸï¼Ÿ åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„å…³è”ï¼Œæ¯”å¦‚ç”¨æˆ·å—?ï¼‰ã€‚</p>
<ul>
<li><code>models.CharField</code> - è¿™æ˜¯ä½ å¦‚ä½•ç”¨ä¸ºæ•°æœ‰é™çš„å­—ç¬¦æ¥å®šä¹‰ä¸€ä¸ªæ–‡æœ¬ã€‚</li>
<li><code>models.TextField</code> - è¿™æ˜¯æ²¡æœ‰é•¿åº¦é™åˆ¶çš„é•¿æ–‡æœ¬ã€‚è¿™å¬èµ·æ¥ç”¨åœ¨åšå®¢æ–‡ç« çš„å†…å®¹ä¸ŠæŒºé€‚åˆçš„ï¼Œå¯¹å§ï¼Ÿ</li>
<li><code>models.DateTimeField</code> - è¿™æ˜¯æ—¥æœŸå’Œæ—¶é—´ã€‚</li>
<li><code>models.ForeignKey</code> - è¿™æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ¨¡å‹çš„è¿æ¥ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä¸ä¼šå¯¹è¿™é‡Œçš„ä»£ç è§£é‡Šå¾—é¢é¢ä¿±åˆ°å› ä¸ºé‚£ä¼šèŠ±å¤ªå¤šæ—¶é—´äº†ã€‚ å¦‚æœä½ æƒ³äº†è§£æ›´å¤šæœ‰å…³æ¨¡å‹å­—æ®µä»¥åŠå¦‚ä½•å®šä¹‰é™¤ä¸Šé¢æè¿°ä»¥å¤–çš„ä¸œè¥¿ï¼Œé‚£ä½ åº”è¯¥å»çœ‹çœ‹Djangoçš„å®˜æ–¹æ–‡æ¡£(<a href="https://docs.djangoproject.com/en/1.8/ref/models/fields/#field-types)ã€‚" target="_blank">https://docs.djangoproject.com/en/1.8/ref/models/fields/#field-types)ã€‚</a></p>
<p><code>def publish(self):</code>åˆæ€æ ·å‘¢? è¿™æ­£æ˜¯æˆ‘ä»¬ä¹‹å‰æåŠåˆ°çš„<code>publish</code>æ–¹æ³•ã€‚ <code>def</code>è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•ï¼Œ<code>publish</code>æ˜¯è¿™ä¸ªæ–¹æ³•çš„åå­—ã€‚ å¦‚æœä½ å–œæ¬¢çš„è¯ä½ å¯ä»¥æ”¹å˜æ–¹æ³•åã€‚ å‘½åçš„è§„åˆ™æ˜¯ä½¿ç”¨å°å†™å­—æ¯ä»¥åŠä¸‹åˆ’çº¿è€Œéç©ºç™½ç¬¦ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªè®¡ç®—å¹³å‡ä»·æ ¼çš„æ–¹æ³•å¯ä»¥å«åš<code>calculate_average_price</code>.</p>
<p>æ–¹æ³•é€šå¸¸ä¼š<code>return</code>ä¸€äº›ä¸œè¥¿ã€‚ ä¾‹å¦‚åœ¨ <code>__str__</code> æ–¹æ³•ä¸­å°±æœ‰è¿™ä¸ªã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ <code>__str__()</code> æˆ‘ä»¬å°†å¾—åˆ°æ–‡ç« æ ‡é¢˜çš„æ–‡æœ¬ ï¼ˆ<strong>å­—ç¬¦ä¸²</strong>ï¼‰ã€‚</p>
<p>å¦‚æœå…³äºæ¨¡å‹å°šæœ‰ä¸æ¸…æ¥šçš„ï¼Œè¯·éšæ—¶é—®ä½ çš„æ•™ç»ƒ ï¼ æˆ‘ä»¬çŸ¥é“å®ƒå¾ˆå¤æ‚ï¼Œç‰¹åˆ«æ˜¯å½“ä½ åŒæ—¶å­¦ä¹ å¯¹è±¡å’Œå‡½æ•°çš„æ—¶å€™ã€‚ ä½†å¸Œæœ›å®ƒåœ¨ä½ çœ‹æ¥æ²¡æœ‰é‚£ä¹ˆç¥å¥‡ï¼</p>
<h3 id="åœ¨ä½ çš„æ•°æ®åº“ä¸­ä¸ºæ¨¡å‹åˆ›å»ºæ•°æ®è¡¨">åœ¨ä½ çš„æ•°æ®åº“ä¸­ä¸ºæ¨¡å‹åˆ›å»ºæ•°æ®è¡¨</h3>
<p>åœ¨è¿™é‡Œçš„æœ€åä¸€æ­¥æ˜¯å°†æˆ‘ä»¬æ–°çš„æ¨¡å‹æ·»åŠ åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ã€‚ é¦–å…ˆæˆ‘ä»¬å¿…é¡»è®©DjangoçŸ¥é“æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„æ¨¡å‹(æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ï¼) æœ‰ä¸€äº›å˜æ›´ã€‚ è¾“å…¥<code>python manage.py makemigrations blog</code>ã€‚ å®ƒçœ‹èµ·æ¥ä¼šåƒè¿™æ ·ï¼š</p>
<pre><code>(myvenv) ~/djangogirls$ python manage.py makemigrations blog
Migrations for &apos;blog&apos;:
  0001_initial.py:
  - Create model Post
</code></pre><p>Djangoä¸ºæˆ‘ä»¬å‡†å¤‡äº†æˆ‘ä»¬å¿…é¡»åº”ç”¨åˆ°æˆ‘ä»¬æ•°æ®åº“çš„è¿ç§»æ–‡ä»¶ã€‚è¾“å…¥<code>python manage.py migrate blog</code>ï¼Œç„¶åå¯¹åº”çš„è¾“å‡ºåº”è¯¥æ˜¯:</p>
<pre><code>(myvenv) ~/djangogirls$ python manage.py migrate blog
Operations to perform:
  Apply all migrations: blog
Running migrations:
  Rendering model states... DONE
  Applying blog.0001_initial... OK
</code></pre><p>ä¸‡å²! æˆ‘ä»¬çš„Postæ¨¡å‹ç°åœ¨å·²ç»åœ¨æˆ‘ä»¬çš„æ•°æ®åº“é‡Œé¢äº†! å®ƒçœ‹èµ·æ¥å¾ˆä¸é”™, å¯¹å§? è·³è½¬åˆ°ä¸‹ä¸€ä¸ªç« èŠ‚ï¼Œçœ‹çœ‹ä½ åšå®¢æ–‡ç« çš„æ ·å­ï¼</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../django_start_project/" class="navigation navigation-prev " aria-label="Previous page: ä½ çš„ç¬¬ä¸€ä¸ªDjango é¡¹ç›® ï¼">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../django_admin/" class="navigation navigation-next " aria-label="Next page: Djangoç®¡ç†">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Djangoæ¨¡å‹","level":"1.11","depth":1,"next":{"title":"Djangoç®¡ç†","level":"1.12","depth":1,"path":"django_admin/README.md","ref":"django_admin/README.md","articles":[]},"previous":{"title":"ä½ çš„ç¬¬ä¸€ä¸ªDjango é¡¹ç›® ï¼","level":"1.10","depth":1,"path":"django_start_project/README.md","ref":"django_start_project/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["heading-anchors@1.0.3","ga@1.0.1","richquotes@0.0.9","github@2.0.0","language-picker","sidebar-ad","codeblock-label","sectionx-ex","collapsible-menu"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"collapsible-menu":{},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/DjangoGirls/tutorial"},"codeblock-label":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sectionx-ex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{"default":false},"sectionx":{"tag":"b"},"heading-anchors":{},"sidebar-ad":{"imageUrl":"https://djangogirls.org/static/img/global/donate/lagos.jpg","url":"https://www.patreon.com/djangogirls","description":"ğŸ’– Support our work and donate to our project! âœ¨","btnText":"Donate now!"},"highlight":{},"ga":{"configuration":"auto","token":"UA-51680040-3"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"py_version":"3.8","py_release":"3.8.6","py_min_version":"3.6","py_min_release":"3.6.8","pa_py_version":"3.8","django_version":"2.2.4"},"language":"zh","links":{"sidebar":{"Need help? Talk to us!":"https://gitter.im/DjangoGirls/tutorial"}},"gitbook":"*"},"file":{"path":"django_models/README.md","mtime":"2020-12-10T16:02:03.474Z","type":"markdown"},"gitbook":{"version":"3.6.15","time":"2020-12-10T16:02:14.062Z"},"basePath":"..","book":{"language":"zh"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sectionx-ex/sectionx.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

